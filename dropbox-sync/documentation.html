<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>DropboxSync-Docs</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>

<style type="text/css">
/**
 * prism.js tomorrow night eighties for JavaScript, CoffeeScript, CSS and HTML
 * Based on https://github.com/chriskempson/tomorrow-theme
 * @author Rose Pritchard
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #ccc;
	background: none;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;

}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #2d2d2d;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #999;
}

.token.punctuation {
	color: #ccc;
}

.token.tag,
.token.attr-name,
.token.namespace,
.token.deleted {
	color: #e2777a;
}

.token.function-name {
	color: #6196cc;
}

.token.boolean,
.token.number,
.token.function {
	color: #f08d49;
}

.token.property,
.token.class-name,
.token.constant,
.token.symbol {
	color: #f8c555;
}

.token.selector,
.token.important,
.token.atrule,
.token.keyword,
.token.builtin {
	color: #cc99cd;
}

.token.string,
.token.char,
.token.attr-value,
.token.regex,
.token.variable {
	color: #7ec699;
}

.token.operator,
.token.entity,
.token.url {
	color: #67cdcc;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

.token.inserted {
	color: green;
}
</style>

<style type="text/css">
pre.line-numbers {
	position: relative;
	padding-left: 3.8em;
	counter-reset: linenumber;
}

pre.line-numbers > code {
	position: relative;
}

.line-numbers .line-numbers-rows {
	position: absolute;
	pointer-events: none;
	top: 0;
	font-size: 100%;
	left: -3.8em;
	width: 3em; /* works for line-numbers below 1000 lines */
	letter-spacing: -1px;
	border-right: 1px solid #999;

	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

}

	.line-numbers-rows > span {
		pointer-events: none;
		display: block;
		counter-increment: linenumber;
	}

		.line-numbers-rows > span:before {
			content: counter(linenumber);
			color: #999;
			display: block;
			padding-right: 0.8em;
			text-align: right;
		}
</style>


</head>

<body>

<h1 id="toc_0"><img src="assets/rounded-corners-122x128.png" width=30/> George Fedoseev</h1>

<h2 id="toc_1"></h2>

<h1 id="toc_2">DropboxSync <a href="/dropbox-sync"><code>Tutorial</code></a><code>Documentation</code></h1>

<p><img src="http://georgefedoseev.com/dropbox-sync/assets/DropboxSync_Large.png?nocache=1" alt="Logo"></p>

<h3 id="toc_3">Contents</h3>

<ul>
<li>Retrieving files

<ul>
<li><a href="#GetFileAsBytes">GetFileAsBytes()</a></li>
<li><a href="#GetFileT">GetFile&lt;T&gt;()</a></li>
<li><a href="#GetFileAsLocalCachedPath">GetFileAsLocalCachedPath()</a></li>
</ul></li>
<li>Getting folder structure

<ul>
<li><a href="#GetFolderStructure">GetFolderStructure()</a></li>
<li><a href="#GetFolderItems">GetFolderItems()</a></li>
</ul></li>
<li>Changes notifications

<ul>
<li><a href="#SubscribeToFileChanges">SubscribeToFileChanges()</a></li>
<li><a href="#SubscribeToFolderChanges">SubscribeToFolderChanges()</a></li>
</ul></li>
</ul>

<p><br>
<hr>
<br></p>

<h1 id="toc_4"><code>Retrieving files</code></h1>

<p><a name="GetFileAsBytes"></a></p>

<h2 id="toc_5">GetFileAsBytes()</h2>

<div><pre class="line-numbers"><code class="language-csharp">public void GetFileAsBytes(string dropboxPath,
    Action&lt;DropboxRequestResult&lt;byte[]&gt;&gt; onResult,
    Action&lt;float&gt; onProgress = null,
    bool useCachedFirst = false,
    bool useCachedIfOffline = true,
    bool receiveUpdates = false)    </code></pre></div>

<p>Asynchronously retrieves file from Dropbox as <code>byte[]</code>.  </p>

<h3 id="toc_6">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>dropboxPath</strong> (<code>string</code>)</td>
<td>Path to file on Dropbox or inside of Dropbox App folder (depending on accessToken type). Should start with &quot;/&quot;. <em>Example: /DropboxSyncExampleFolder/image.jpg</em></td>
</tr>
<tr>
<td><strong>onResult</strong> (<code>Action&lt;DropboxRequestResult&lt;byte[]&gt;&gt;</code>)</td>
<td>Callback function that receives <code>DropboxRequestResult&lt;byte[]&gt;</code> that contains result <code>data</code>, error <code>bool</code> indicator and <code>errorDescription</code> if there was any error.</td>
</tr>
<tr>
<td><strong>onProgress</strong> (<code>Action&lt;float&gt; onProgress</code>)</td>
<td>Callback function that receives progress as float from 0 to 1.</td>
</tr>
<tr>
<td><strong>useCachedFirst</strong> (<code>bool</code>)</td>
<td>Use cached version if it exists?</td>
</tr>
<tr>
<td><strong>useCachedIfOffline</strong> (<code>bool</code>)</td>
<td>Use cached version if no Internet connection?</td>
</tr>
<tr>
<td><strong>receiveUpdates</strong> (<code>bool</code>)</td>
<td>If <code>true</code>, then when there are remote updates on Dropbox, callback function <code>onResult</code> will be triggered again with updated version of the file.</td>
</tr>
</tbody>
</table>

<h3 id="toc_7">Example usage</h3>

<div><pre class="line-numbers"><code class="language-csharp">// Download file from Dropbox (or used cached if no updates) as byte array.
DropboxSync.Main.GetFileAsBytes(&quot;/DropboxSyncExampleFolder/image.jpg&quot;, (res) =&gt; {
    if(res.error){
        Debug.LogError(&quot;Failed to get file bytes: &quot;+res.errorDescription);
    }else{
        var imageBytes = res.data;
        Debug.Log(&quot;Got file as bytes array, length: &quot;
                                    +imageBytes.Length.ToString()+&quot; bytes&quot;);
    }
}, receiveUpdates:true);</code></pre></div>

<p><a name="GetFileT"></a></p>

<h2 id="toc_8">GetFile&lt;T&gt;()</h2>

<div><pre class="line-numbers"><code class="language-csharp">public void GetFile&lt;T&gt;(string dropboxPath, 
    Action&lt;DropboxRequestResult&lt;T&gt;&gt; onResult,
    Action&lt;float&gt; onProgress = null,
    bool useCachedFirst = false,
    bool useCachedIfOffline = true,
    bool receiveUpdates = false)
</code></pre></div>

<p>Asynchronously retrieves file from Dropbox and tries to produce object of specified type <code>T</code>.  </p>

<p>Supported generic types <code>T</code>:</p>

<ul>
<li><code>string</code> - for text files</li>
<li><code>JsonObject</code>, <code>JsonArray</code> - for JSON-formatted files</li>
<li><code>Texture2D</code> - for image files</li>
</ul>

<h3 id="toc_9">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>dropboxPath</strong> (<code>string</code>)</td>
<td>Path to file on Dropbox or inside of Dropbox App folder (depending on accessToken type). Should start with &quot;/&quot;. <em>Example: /DropboxSyncExampleFolder/image.jpg</em></td>
</tr>
<tr>
<td><strong>onResult</strong> (<code>Action&lt;DropboxRequestResult&lt;T&gt;&gt;</code>)</td>
<td>Callback function that receives <code>DropboxRequestResult&lt;T&gt;</code> that contains result <code>data</code>, error <code>bool</code> indicator and <code>errorDescription</code> if there was any error.</td>
</tr>
<tr>
<td><strong>onProgress</strong> (<code>Action&lt;float&gt; onProgress</code>)</td>
<td>Callback function that receives progress as float from 0 to 1.</td>
</tr>
<tr>
<td><strong>useCachedFirst</strong> (<code>bool</code>)</td>
<td>Use cached version if it exists?</td>
</tr>
<tr>
<td><strong>useCachedIfOffline</strong> (<code>bool</code>)</td>
<td>Use cached version if no Internet connection?</td>
</tr>
<tr>
<td><strong>receiveUpdates</strong> (<code>bool</code>)</td>
<td>If <code>true</code>, then when there are remote updates on Dropbox, callback function <code>onResult</code> will be triggered again with updated version of the file.</td>
</tr>
</tbody>
</table>

<h3 id="toc_10">Example usage</h3>

<div><pre class="line-numbers"><code class="language-csharp">// Download Jpeg image from Dropbox (or used cached if no updates)
// and receive it as Texture2D object.
DropboxSync.Main.GetFile&lt;Texture2D&gt;(&quot;/DropboxSyncExampleFolder/image.jpg&quot;, (res) =&gt; {
    if(res.error){
        Debug.LogError(&quot;Error getting picture from Dropbox: &quot;+res.errorDescription);
    }else{
        Debug.Log(&quot;Received picture from Dropbox!&quot;);
        var tex = res.data;
        UpdatePicture(tex);
    }
}, useCachedFirst:true);</code></pre></div>

<p><a name="GetFileAsLocalCachedPath"></a></p>

<h2 id="toc_11">GetFileAsLocalCachedPath()</h2>

<div><pre class="line-numbers"><code class="language-csharp">public void GetFileAsLocalCachedPath(string dropboxPath,
    Action&lt;DropboxRequestResult&lt;string&gt;&gt; onResult,
    Action&lt;float&gt; onProgress = null,
    bool useCachedFirst = false,
    bool useCachedIfOffline = true,
    bool receiveUpdates = false)</code></pre></div>

<p>Asynchronously retrieves file from Dropbox and returns path to local filesystem cached copy.  </p>

<h3 id="toc_12">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>dropboxPath</strong> (<code>string</code>)</td>
<td>Path to file on Dropbox or inside of Dropbox App folder (depending on accessToken type). Should start with &quot;/&quot;. <em>Example: /DropboxSyncExampleFolder/image.jpg</em></td>
</tr>
<tr>
<td><strong>onResult</strong> (<code>Action&lt;DropboxRequestResult&lt;string&gt;&gt;</code>)</td>
<td>Callback function that receives <code>DropboxRequestResult&lt;string&gt;</code> that contains result <code>data</code>, error <code>bool</code> indicator and <code>errorDescription</code> if there was any error.</td>
</tr>
<tr>
<td><strong>onProgress</strong> (<code>Action&lt;float&gt; onProgress</code>)</td>
<td>Callback function that receives progress as float from 0 to 1.</td>
</tr>
<tr>
<td><strong>useCachedFirst</strong> (<code>bool</code>)</td>
<td>Use cached version if it exists?</td>
</tr>
<tr>
<td><strong>useCachedIfOffline</strong> (<code>bool</code>)</td>
<td>Use cached version if no Internet connection?</td>
</tr>
<tr>
<td><strong>receiveUpdates</strong> (<code>bool</code>)</td>
<td>If <code>true</code>, then when there are remote updates on Dropbox, callback function <code>onResult</code> will be triggered again with updated version of the file.</td>
</tr>
</tbody>
</table>

<h3 id="toc_13">Example usage</h3>

<div><pre class="line-numbers"><code class="language-csharp">// Download video from Dropbox (or use cached if no updates)
// and get local filepath.
DropboxSync.Main.GetFileAsLocalCachedPath(&quot;/DropboxSyncExampleFolder/video.mp4&quot;,
 (res) =&gt; {
    if(res.error){
        Debug.LogError(&quot;Error getting video from Dropbox: &quot;+res.errorDescription);
    }else{
        Debug.Log(&quot;Received video from Dropbox!&quot;);
        var filePathInCache = res.data;
        PlayVideo(filePathInCache);
    }
}, receiveUpdates:true);
</code></pre></div>

<hr>

<p><br></p>

<h1 id="toc_14"><code>Getting folder structure</code></h1>

<p><a name="GetFolderStructure"></a></p>

<h2 id="toc_15">GetFolderStructure()</h2>

<div><pre class="line-numbers"><code class="language-csharp">public void GetFolderStructure(string dropboxFolderPath,
    Action&lt;DropboxRequestResult&lt;DBXFolder&gt;&gt; onResult,
    Action&lt;float&gt; onProgress = null)</code></pre></div>

<p>Asynchronously retrieves DBXFolder object with all recursive sub structure.</p>

<h3 id="toc_16">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>dropboxFolderPath</strong> (<code>string</code>)</td>
<td>Path to folder on Dropbox or inside Dropbox App (depending on accessToken type). Should start with &quot;/&quot;. <em>Example: /DropboxSyncExampleFolder</em></td>
</tr>
<tr>
<td><strong>onResult</strong> (<code>Action&lt;DropboxRequestResult&lt;DBXFolder&gt;&gt;</code>)</td>
<td>Callback function that receives <code>DropboxRequestResult&lt;DBXFolder&gt;</code> that contains result <code>data</code> of type <code>DBXFolder</code>, error <code>bool</code> indicator and <code>errorDescription</code> if there was any error.</td>
</tr>
<tr>
<td><strong>onProgress</strong> (<code>Action&lt;float&gt; onProgress</code>)</td>
<td>Callback function that receives progress as float from 0 to 1.</td>
</tr>
</tbody>
</table>

<p><a name="GetFolderItems"></a></p>

<h2 id="toc_17">GetFolderItems()</h2>

<div><pre class="line-numbers"><code class="language-csharp">public void GetFolderItems(string path,
    Action&lt;DropboxRequestResult&lt;List&lt;DBXItem&gt;&gt;&gt; onResult,
    Action&lt;float&gt; onProgress = null,
    bool recursive = false)</code></pre></div>

<p>Asynchronously retrieves flat list of <code>DBXItem</code> objects (files and folders).</p>

<h3 id="toc_18">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>dropboxFolderPath</strong> (<code>string</code>)</td>
<td>Path to folder on Dropbox or inside Dropbox App (depending on accessToken type). Should start with &quot;/&quot;. <em>Example: /DropboxSyncExampleFolder</em></td>
</tr>
<tr>
<td><strong>onResult</strong> (<code>Action&lt;DropboxRequestResult&lt;List&lt;DBXItem&gt;&gt;&gt;</code>)</td>
<td>Callback function that receives <code>DropboxRequestResult&lt;List&lt;DBXItem&gt;&gt;</code> that contains result <code>data</code> of type <code>List&lt;DBXItem&gt;</code>, error <code>bool</code> indicator and <code>errorDescription</code> if there was any error.</td>
</tr>
<tr>
<td><strong>onProgress</strong> (<code>Action&lt;float&gt; onProgress</code>)</td>
<td>Callback function that receives progress as float from 0 to 1.</td>
</tr>
<tr>
<td><strong>recursive</strong> (<code>bool</code>)</td>
<td>If <code>true</code>, then resulting list contains all subfolders and their files recursively.</td>
</tr>
</tbody>
</table>

<h3 id="toc_19">Example usage</h3>

<div><pre class="line-numbers"><code class="language-csharp">// Count all files on Dropbox
DropboxSync.Main.GetFolderItems(&quot;/&quot;, (res) =&gt; {
    if(res.error){
        Debug.LogError(&quot;Failed to get folder items for folder &quot;
                    +dropboxFolderPath+&quot; &quot;+res.errorDescription);
    }else{
        Debug.Log(&quot;Total files on Dropbox: &quot;
            +(res.data.Where(x =&gt; x.type == DBXItemType.File).Count()).ToString());
    }
}, recursive: true);
</code></pre></div>

<hr>

<p><br></p>

<h1 id="toc_20"><code>Changes notifications</code></h1>

<p><a name="SubscribeToFileChanges"></a></p>

<h2 id="toc_21">SubscribeToFileChanges()</h2>

<div><pre class="line-numbers"><code class="language-csharp">public void SubscribeToFileChanges(string dropboxFilePath,
    Action&lt;DBXFileChange&gt; onChange)</code></pre></div>

<p>Subscribes to file changes on Dropbox.  </p>

<p>Callback fires once, when change is being registered and changed file checksum is cached in local metadata. If change was made not during app runtime, callback fires as soon as app is running and checking for updates.  </p>

<p>Update interval can be changed using <code>DBXChangeForChangesIntervalSeconds</code> (default values if 5 seconds).</p>

<h3 id="toc_22">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>dropboxFilePath</strong> (<code>string</code>)</td>
<td>Path to file on Dropbox or inside Dropbox App (depending on accessToken type). Should start with &quot;/&quot;. <em>Example: /DropboxSyncExampleFolder/image.jpg</em></td>
</tr>
<tr>
<td><strong>onChange</strong> (<code>Action&lt;DBXFileChange&gt;</code>)</td>
<td>Callback function that receives <code>DBXFileChange</code> that contains <code>changeType</code> and <code>DBXFile</code> (updated file metadata).</td>
</tr>
</tbody>
</table>

<p><a name="SubscribeToFolderChanges"></a></p>

<h2 id="toc_23">SubscribeToFolderChanges()</h2>

<div><pre class="line-numbers"><code class="language-csharp">public void SubscribeToFolderChanges(string dropboxFilePath,
    Action&lt;List&lt;DBXFileChange&gt;&gt; onChange)</code></pre></div>

<p>Subscribes to file changes on Dropbox in specified folder (and recursively to all subfolders and their files).</p>

<p>Callback fires once, when change is being registered and changed file checksum is cached in local metadata. If change was made not during app runtime, callback fires as soon as app is running and checking for updates.</p>

<p>Update interval can be changed using <code>DBXChangeForChangesIntervalSeconds</code> (default values if 5 seconds).</p>

<h3 id="toc_24">Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>dropboxFolderPath</strong> (<code>string</code>)</td>
<td>Path to folder on Dropbox or inside Dropbox App (depending on accessToken type). Should start with &quot;/&quot;. <em>Example: /DropboxSyncExampleFolder</em></td>
</tr>
<tr>
<td><strong>onChange</strong> (<code>Action&lt;List&lt;DBXFileChange&gt;&gt;</code>)</td>
<td>Callback function that receives <code>List&lt;DBXFileChange&gt;</code> consisting of file changes. Each file change contains <code>changeType</code> and <code>DBXFile</code> (updated file metadata).</td>
</tr>
</tbody>
</table>

<p><br><br><br><br><br><br><br><br><br><br><br> </p>



<script type="text/javascript">
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),"Object"!==n.util.type(e[l])||r[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,l=a.elements||document.querySelectorAll(a.selector),i=0;r=l[i++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1],i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(!s||!i)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var l=n.tokenize(e,t);return a.stringify(n.util.encode(l),r)},tokenize:function(e,t){var a=n.Token,r=[e],l=t.rest;if(l){for(var i in l)t[i]=l[i];delete t.rest}e:for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof a)){u.lastIndex=0;var y=u.exec(m),v=1;if(!y&&h&&p!=r.length-1){var b=r[p+1].matchedStr||r[p+1],k=m+b;if(p<r.length-2&&(k+=r[p+2].matchedStr||r[p+2]),u.lastIndex=0,y=u.exec(k),!y)continue;var w=y.index+(g?y[1].length:0);if(w>=m.length)continue;var _=y.index+y[0].length,P=m.length+b.length;if(v=3,P>=_){if(r[p+1].greedy)continue;v=2,k=k.slice(0,P)}m=k}if(y){g&&(f=y[1].length);var w=y.index+f,y=y[0].slice(f),_=w+y.length,S=m.slice(0,w),O=m.slice(_),j=[p,v];S&&j.push(S);var A=new a(i,c?n.tokenize(y,c):y,d,y,h);j.push(A),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var l={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==l.type&&(l.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o="";for(var s in l.attributes)o+=(o?" ":"")+s+'="'+(l.attributes[s]||"")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'" '+o+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
</script>

<script type="text/javascript">
Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};
</script>

<script type="text/javascript">
Prism.languages.csharp=Prism.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+f?)\b/i}),Prism.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});
</script>

<script type="text/javascript">
!function(){"undefined"!=typeof self&&self.Prism&&self.document&&Prism.hooks.add("complete",function(e){if(e.code){var t=e.element.parentNode,s=/\s*\bline-numbers\b\s*/;if(t&&/pre/i.test(t.nodeName)&&(s.test(t.className)||s.test(e.element.className))&&!e.element.querySelector(".line-numbers-rows")){s.test(e.element.className)&&(e.element.className=e.element.className.replace(s,"")),s.test(t.className)||(t.className+=" line-numbers");var n,a=e.code.match(/\n(?!$)/g),l=a?a.length+1:1,m=new Array(l+1);m=m.join("<span></span>"),n=document.createElement("span"),n.className="line-numbers-rows",n.innerHTML=m,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(n)}}})}();
</script>


</body>

</html>
